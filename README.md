# R2DT-Web

This is an embeddable component that you can include in your website to visualise RNA secondary structures.

## How to use

Only two lines of code are needed to use this widget: one line with the r2dt-web tag and another with the script 
for this component, for example:

```
<r2dt-web/>
<script type="text/javascript" src="/path/to/r2dt-web.js"></script>
```    

To use the latest stable version without worrying about updates, use the component's JavaScript package available at 
GitHub:

`<script type="text/javascript" src="https://rnacentral.github.io/r2dt-web/dist/r2dt-web.js"></script>`

If you prefer to install this package and perform the updates manually, see the [Installation](#Installation) section.

### Other methods of use

If you already have an external URL that returns an SVG generated by R2DT, you can pass it directly using the 
`url` attribute.

```
<r2dt-web url="https://example.com/svg"></r2dt-web>
```

If you have a URS from RNAcentral, you can pass it using the `urs` attribute. Click 
[here](https://rnacentral.org/help#how-to-find-rnacentral-id) to see how you can find an RNAcentral identifier 
for an RNA sequence.

```
<r2dt-web urs="URS0000049E57"></r2dt-web>
```

If neither `url` nor `urs` is provided, the component will display a search field. You can optionally display example 
sequences using the `examples` attribute.

```
<r2dt-web 
    examples='[
        {"description": "RNA5S1-8", "sequence": "GUCUACGGCCAUACCACCCUGAACGCGCCCGAUCUCGUCUGAUCUCGGAAGCUAAGCAGGGUCGGGCCUGGUUAGUACUUGGAUGGGAGACCGCCUGGGAAUACCGGGUGCUGUAGGCUUU"},
        {"description": "TRT-TGT2-1", "sequence": "GGCTCCATAGCTCAGTGGTTAGAGCACTGGTCTTGTAAACCAGGGGTCGCGAGTTCGATCCTCGCTGGGGCCT"}
    ]'
/>
```

## Installation

Clone this repository from GitHub.

`git clone https://github.com/RNAcentral/r2dt-web.git`

Now you can add the component's JavaScript bundle (it contains all the styles and fonts) to your web page either 
directly or through an import with Webpack:

`<script type="text/javascript" src="/r2dt-web/dist/r2dt-web.js"></script>`

You will need to run the `git pull` command whenever there are updates.

## Attributes/parameters

This component accepts a number of attributes. You pass them as html attributes and their values are strings 
(this is a requirement of Web Components):

| parameter | description                                                           |
|-----------|-----------------------------------------------------------------------|
| url       | URL that returns an SVG generated by R2DT                             |
| urs       | Unique RNA Sequence identifier from RNAcentral                        |
| examples  | Array of example sequences with `description` and `sequence`          |
| legend    | Legend position. Can be topRight, topLeft, bottomRight and bottomLeft |

### Local development

1. `npm install`

2. `npm start` to start a server on http://localhost:9000/

3. `npm run build` to generate a new distribution

4. `npm test` to run unit tests

### Notes

- Implemented as a Web Component using pure JavaScript â€” no React or Redux dependencies.
- If both `url` and `urs` are provided, `urs` takes precedence.
